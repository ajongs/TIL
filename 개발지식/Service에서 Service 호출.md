Service단에서 다른 Service를 호출하는 것이 괜찮은가?

개발 도중 순환호출 문제를 맞딱드렸다.
서로의 클래스가 만들어지기 위해서는 서로를 필요로 하기 때문에 빈이 제대로 생성되지 않아 오류가 나는 것.

그렇다면 service 단에서 service를 부르는 행위는 하지 말아야하는 것일까?

사실 순환호출만 조심하면 service단에서 service단을 호출하는 행위는 코드 중복을 피할 수 있다는 점에서 굉장히 효율적이다.
그리고 service단끼리도 보통은 계층(일종의 호출 순서)이 나누어져 있기 때문에 순환호출을 피할 가능성이 높다.

순환호출이 어쩔 수 없을땐?
사실 필자는 repository와 service단을 1대1 매칭을 시켜야 한다는 정보를 잘 못 습득하고 있었다.
하나의 service에서 다양한 repository를 의존해도 상관없다.

좀더 모듈적으로 코딩하고 싶을땐?
contoller단까지 내려가서 필요한 서비스단들을 연쇄적으로 return값을 이용해 사용하는 것이다.
이러면 service와 repository의 의존성도 1대1로 유지 가능하며 어느 로직을 수행하는지 한눈에 보기 쉬울 것이다.

어떤 것을 택해도 상관없는 일종의 아키텍처이다. 내가 속한 그룹에서 지향하고 있는 것이나 해당 프로젝트에 맞는 것을 선택하도록 하자.
